@model MOBYNew.Models.Invoice

@{ViewBag.Title = "Invoice";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<form class="form-horizontal" method="POST" action="@Url.Action("AddItem","Invoice")">
    <div class="jumbotron">
        @*<div id="main" class="panel panel-primary">*@

        <div class="panel-heading"> <h1 class="panel-title">Invoice Builder</h1></div>
        <div class="panel-body">

            <fieldset>
                @Html.LabelFor(model => model.Name)
                @Html.EditorFor(model => model.Name)

                @Html.LabelFor(model => model.Contact.FirstName)
                @Html.EditorFor(model => model.Contact.FirstName)

                @Html.LabelFor(model => model.EntryDate)
                @Html.EditorFor(model => model.EntryDate)
            </fieldset>

        </div>
    </div>
    @*</div>*@
</form>
<p>
    @Html.ActionLink("Create New", "Create")
    @using (Html.BeginForm("Index", "Invoice", FormMethod.Get))
    {
    <p>
        Category: @Html.DropDownList("itemCategory", "All")
        Title: @Html.TextBox("searchString")
        <input type="submit" value="Filter" />
    </p>
    }
    </p>
    @*<table class="table">*@
    <table class="table table-bordered table-condensed table-hover table-responsive table-striped">
        <thead>
            <tr>
                <td>
                    <label class="control-label">#</label>
                </td>
                <td>
                    <label class="control-label">Item</label>
                </td>
                <td>
                    <label class="control-label">Category</label>
                </td>
                <td>
                    <label class="control-label">Quantity</label>
                </td>
                <td>
                    <label class="control-label">Price</label>
                </td>
                <td>
                    <label class="control-label">Total</label>
                </td>
            </tr>

            <tr>

                <td>
                    <button class="btn-sm btn-danger" style="border-radius: 50%; background-color: red;" name="Submit" id="Submit" type="submit">+</button>
                </td>

                <td>
                    @Html.EditorFor(model => model.NewItem.ItemName)
                </td>

                <td>
                    @Html.EditorFor(model => model.NewItem.Category.CategoryName)
                </td>

                <td>
                    @Html.EditorFor(model => model.NewItem.QtyInStock)
                </td>

                <td>
                    @Html.EditorFor(model => model.NewItem.Price)
                </td>
                <td>
                    @Html.EditorFor(model => model.NewItem.Price)
                </td>

            </tr>
        </thead>
        <tbody>
            @for (int i = 0; i < Model.Items.Count(); i++)
            {
                <tr>
                    <td>
                        @(i + 1)
                    </td>
                    <td>
                        @Html.TextBoxFor(m => m.Items[i].ItemName)
                    </td>
                    <td>
                        @Html.TextBoxFor(m => m.Items[i].Category)
                    </td>
                    <td>
                        @Html.TextBoxFor(m => m.Items[i].QtyInStock)
                    </td>
                    <td>
                        @Html.TextBoxFor(m => m.Items[i].Price)
                    </td>
                    <td>
                        @Model.Items[i].Price
                    </td>
                </tr>
            }
        </tbody>

        <tfoot></tfoot>
    </table>
